<!DOCTYPE html>

<html>
<head>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">

<title>class Concurrent::Maybe - concurrent-ruby-1.0.2 Documentation</title>

<link type="text/css" media="screen" href="../rdoc.css" rel="stylesheet">

<script type="text/javascript">
  var rdoc_rel_prefix = "../";
</script>

<script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/navigation.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/search_index.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/search.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/searcher.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/darkfish.js"></script>


<body id="top" class="class">
<nav id="metadata">
  <nav id="home-section" class="section">
  <h3 class="section-header">
    <a href="../index.html">Home</a>
    <a href="../table_of_contents.html#classes">Classes</a>
    <a href="../table_of_contents.html#methods">Methods</a>
  </h3>
</nav>


  <nav id="search-section" class="section project-section" class="initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <h3 class="section-header">
      <input type="text" name="search" placeholder="Search" id="search-field"
             title="Type to search, Up and Down to navigate, Enter to load">
    </h3>
  </form>

  <ul id="search-results" class="initially-hidden"></ul>
</nav>


  

  <div id="file-metadata">
    <nav id="file-list-section" class="section">
  <h3 class="section-header">Defined In</h3>
  <ul>
    <li>lib/concurrent/maybe.rb
  </ul>
</nav>

    
  </div>

  <div id="class-metadata">
    
    <nav id="parent-class-section" class="section">
  <h3 class="section-header">Parent</h3>
  
  <p class="link">Synchronization::Object
  
</nav>

    <!-- Included Modules -->
<nav id="includes-section" class="section">
  <h3 class="section-header">Included Modules</h3>

  <ul class="link-list">
  
  
    <li><span class="include">Comparable</span>
  
  
  </ul>
</nav>

    
    <!-- Method Quickref -->
<nav id="method-list-section" class="section">
  <h3 class="section-header">Methods</h3>

  <ul class="link-list">
    
    <li ><a href="#method-c-from">::from</a>
    
    <li ><a href="#method-c-just">::just</a>
    
    <li ><a href="#method-c-new">::new</a>
    
    <li ><a href="#method-c-nothing">::nothing</a>
    
    <li ><a href="#method-i-3C-3D-3E">#&lt;=&gt;</a>
    
    <li ><a href="#method-i-fulfilled-3F">#fulfilled?</a>
    
    <li ><a href="#method-i-just-3F">#just?</a>
    
    <li ><a href="#method-i-nothing-3F">#nothing?</a>
    
    <li ><a href="#method-i-or">#or</a>
    
    <li ><a href="#method-i-rejected-3F">#rejected?</a>
    
  </ul>
</nav>

  </div>

  <div id="project-metadata">
    <nav id="fileindex-section" class="section project-section">
  <h3 class="section-header">Pages</h3>

  <ul>
  
    <li class="file"><a href="../CHANGELOG_md.html">CHANGELOG</a>
  
    <li class="file"><a href="../LICENSE_txt.html">LICENSE</a>
  
    <li class="file"><a href="../README_md.html">README</a>
  
  </ul>
</nav>

    <nav id="classindex-section" class="section project-section">
  <h3 class="section-header">Class and Module Index</h3>

  <ul class="link-list">
  
    <li><a href="../Concurrent.html">Concurrent</a>
  
    <li><a href="../Concurrent/AbstractExchanger.html">Concurrent::AbstractExchanger</a>
  
    <li><a href="../Concurrent/AbstractExecutorService.html">Concurrent::AbstractExecutorService</a>
  
    <li><a href="../Concurrent/AbstractThreadLocalVar.html">Concurrent::AbstractThreadLocalVar</a>
  
    <li><a href="../Concurrent/Agent.html">Concurrent::Agent</a>
  
    <li><a href="../Concurrent/Agent/Error.html">Concurrent::Agent::Error</a>
  
    <li><a href="../Concurrent/Agent/ValidationError.html">Concurrent::Agent::ValidationError</a>
  
    <li><a href="../Concurrent/Array.html">Concurrent::Array</a>
  
    <li><a href="../Concurrent/Async.html">Concurrent::Async</a>
  
    <li><a href="../Concurrent/Async/AsyncDelegator.html">Concurrent::Async::AsyncDelegator</a>
  
    <li><a href="../Concurrent/Async/AwaitDelegator.html">Concurrent::Async::AwaitDelegator</a>
  
    <li><a href="../Concurrent/Async/ClassMethods.html">Concurrent::Async::ClassMethods</a>
  
    <li><a href="../Concurrent/AtExitImplementation.html">Concurrent::AtExitImplementation</a>
  
    <li><a href="../Concurrent/Atom.html">Concurrent::Atom</a>
  
    <li><a href="../Concurrent/AtomicBoolean.html">Concurrent::AtomicBoolean</a>
  
    <li><a href="../Concurrent/AtomicDirectUpdate.html">Concurrent::AtomicDirectUpdate</a>
  
    <li><a href="../Concurrent/AtomicFixnum.html">Concurrent::AtomicFixnum</a>
  
    <li><a href="../Concurrent/AtomicNumericCompareAndSetWrapper.html">Concurrent::AtomicNumericCompareAndSetWrapper</a>
  
    <li><a href="../Concurrent/AtomicReference.html">Concurrent::AtomicReference</a>
  
    <li><a href="../Concurrent/CAtomicReference.html">Concurrent::CAtomicReference</a>
  
    <li><a href="../Concurrent/CachedThreadPool.html">Concurrent::CachedThreadPool</a>
  
    <li><a href="../Concurrent/Collection.html">Concurrent::Collection</a>
  
    <li><a href="../Concurrent/Collection/AtomicReferenceMapBackend.html">Concurrent::Collection::AtomicReferenceMapBackend</a>
  
    <li><a href="../Concurrent/Collection/AtomicReferenceMapBackend/Node.html">Concurrent::Collection::AtomicReferenceMapBackend::Node</a>
  
    <li><a href="../Concurrent/Collection/AtomicReferenceMapBackend/Table.html">Concurrent::Collection::AtomicReferenceMapBackend::Table</a>
  
    <li><a href="../Concurrent/Collection/CopyOnNotifyObserverSet.html">Concurrent::Collection::CopyOnNotifyObserverSet</a>
  
    <li><a href="../Concurrent/Collection/CopyOnWriteObserverSet.html">Concurrent::Collection::CopyOnWriteObserverSet</a>
  
    <li><a href="../Concurrent/Collection/JavaNonConcurrentPriorityQueue.html">Concurrent::Collection::JavaNonConcurrentPriorityQueue</a>
  
    <li><a href="../Concurrent/Collection/MriMapBackend.html">Concurrent::Collection::MriMapBackend</a>
  
    <li><a href="../Concurrent/Collection/NonConcurrentMapBackend.html">Concurrent::Collection::NonConcurrentMapBackend</a>
  
    <li><a href="../Concurrent/Collection/NonConcurrentPriorityQueue.html">Concurrent::Collection::NonConcurrentPriorityQueue</a>
  
    <li><a href="../Concurrent/Collection/RubyNonConcurrentPriorityQueue.html">Concurrent::Collection::RubyNonConcurrentPriorityQueue</a>
  
    <li><a href="../Concurrent/Collection/SynchronizedMapBackend.html">Concurrent::Collection::SynchronizedMapBackend</a>
  
    <li><a href="../Concurrent/Concern.html">Concurrent::Concern</a>
  
    <li><a href="../Concurrent/Concern/Deprecation.html">Concurrent::Concern::Deprecation</a>
  
    <li><a href="../Concurrent/Concern/Dereferenceable.html">Concurrent::Concern::Dereferenceable</a>
  
    <li><a href="../Concurrent/Concern/Logging.html">Concurrent::Concern::Logging</a>
  
    <li><a href="../Concurrent/Concern/Obligation.html">Concurrent::Concern::Obligation</a>
  
    <li><a href="../Concurrent/Concern/Observable.html">Concurrent::Concern::Observable</a>
  
    <li><a href="../Concurrent/ConcurrentUpdateError.html">Concurrent::ConcurrentUpdateError</a>
  
    <li><a href="../Concurrent/CountDownLatch.html">Concurrent::CountDownLatch</a>
  
    <li><a href="../Concurrent/CyclicBarrier.html">Concurrent::CyclicBarrier</a>
  
    <li><a href="../Concurrent/Delay.html">Concurrent::Delay</a>
  
    <li><a href="../Concurrent/DependencyCounter.html">Concurrent::DependencyCounter</a>
  
    <li><a href="../Concurrent/Edge.html">Concurrent::Edge</a>
  
    <li><a href="../Concurrent/Event.html">Concurrent::Event</a>
  
    <li><a href="../Concurrent/Exchanger.html">Concurrent::Exchanger</a>
  
    <li><a href="../Concurrent/ExecutorService.html">Concurrent::ExecutorService</a>
  
    <li><a href="../Concurrent/FixedThreadPool.html">Concurrent::FixedThreadPool</a>
  
    <li><a href="../Concurrent/Future.html">Concurrent::Future</a>
  
    <li><a href="../Concurrent/Hash.html">Concurrent::Hash</a>
  
    <li><a href="../Concurrent/IVar.html">Concurrent::IVar</a>
  
    <li><a href="../Concurrent/ImmediateExecutor.html">Concurrent::ImmediateExecutor</a>
  
    <li><a href="../Concurrent/ImmutableStruct.html">Concurrent::ImmutableStruct</a>
  
    <li><a href="../Concurrent/IndirectImmediateExecutor.html">Concurrent::IndirectImmediateExecutor</a>
  
    <li><a href="../Concurrent/JavaAtomicReference.html">Concurrent::JavaAtomicReference</a>
  
    <li><a href="../Concurrent/JavaCountDownLatch.html">Concurrent::JavaCountDownLatch</a>
  
    <li><a href="../Concurrent/JavaExchanger.html">Concurrent::JavaExchanger</a>
  
    <li><a href="../Concurrent/JavaExecutorService.html">Concurrent::JavaExecutorService</a>
  
    <li><a href="../Concurrent/JavaExecutorService/Job.html">Concurrent::JavaExecutorService::Job</a>
  
    <li><a href="../Concurrent/JavaSingleThreadExecutor.html">Concurrent::JavaSingleThreadExecutor</a>
  
    <li><a href="../Concurrent/JavaThreadLocalVar.html">Concurrent::JavaThreadLocalVar</a>
  
    <li><a href="../Concurrent/JavaThreadPoolExecutor.html">Concurrent::JavaThreadPoolExecutor</a>
  
    <li><a href="../Concurrent/LazyRegister.html">Concurrent::LazyRegister</a>
  
    <li><a href="../Concurrent/MVar.html">Concurrent::MVar</a>
  
    <li><a href="../Concurrent/Map.html">Concurrent::Map</a>
  
    <li><a href="../Concurrent/Maybe.html">Concurrent::Maybe</a>
  
    <li><a href="../Concurrent/MutableStruct.html">Concurrent::MutableStruct</a>
  
    <li><a href="../Concurrent/MutexAtomicBoolean.html">Concurrent::MutexAtomicBoolean</a>
  
    <li><a href="../Concurrent/MutexAtomicFixnum.html">Concurrent::MutexAtomicFixnum</a>
  
    <li><a href="../Concurrent/MutexAtomicReference.html">Concurrent::MutexAtomicReference</a>
  
    <li><a href="../Concurrent/MutexCountDownLatch.html">Concurrent::MutexCountDownLatch</a>
  
    <li><a href="../Concurrent/MutexSemaphore.html">Concurrent::MutexSemaphore</a>
  
    <li><a href="../Concurrent/Options.html">Concurrent::Options</a>
  
    <li><a href="../Concurrent/Process.html">Concurrent::Process</a>
  
    <li><a href="../Concurrent/Promise.html">Concurrent::Promise</a>
  
    <li><a href="../Concurrent/RbxAtomicReference.html">Concurrent::RbxAtomicReference</a>
  
    <li><a href="../Concurrent/ReadWriteLock.html">Concurrent::ReadWriteLock</a>
  
    <li><a href="../Concurrent/ReentrantReadWriteLock.html">Concurrent::ReentrantReadWriteLock</a>
  
    <li><a href="../Concurrent/RubyExchanger.html">Concurrent::RubyExchanger</a>
  
    <li><a href="../Concurrent/RubyExchanger/Node.html">Concurrent::RubyExchanger::Node</a>
  
    <li><a href="../Concurrent/RubyExecutorService.html">Concurrent::RubyExecutorService</a>
  
    <li><a href="../Concurrent/RubySingleThreadExecutor.html">Concurrent::RubySingleThreadExecutor</a>
  
    <li><a href="../Concurrent/RubyThreadLocalVar.html">Concurrent::RubyThreadLocalVar</a>
  
    <li><a href="../Concurrent/RubyThreadPoolExecutor.html">Concurrent::RubyThreadPoolExecutor</a>
  
    <li><a href="../Concurrent/RubyThreadPoolExecutor/Worker.html">Concurrent::RubyThreadPoolExecutor::Worker</a>
  
    <li><a href="../Concurrent/SafeTaskExecutor.html">Concurrent::SafeTaskExecutor</a>
  
    <li><a href="../Concurrent/ScheduledTask.html">Concurrent::ScheduledTask</a>
  
    <li><a href="../Concurrent/Semaphore.html">Concurrent::Semaphore</a>
  
    <li><a href="../Concurrent/SerialExecutorService.html">Concurrent::SerialExecutorService</a>
  
    <li><a href="../Concurrent/SerializedExecution.html">Concurrent::SerializedExecution</a>
  
    <li><a href="../Concurrent/SerializedExecutionDelegator.html">Concurrent::SerializedExecutionDelegator</a>
  
    <li><a href="../Concurrent/SettableStruct.html">Concurrent::SettableStruct</a>
  
    <li><a href="../Concurrent/SimpleExecutorService.html">Concurrent::SimpleExecutorService</a>
  
    <li><a href="../Concurrent/SingleThreadExecutor.html">Concurrent::SingleThreadExecutor</a>
  
    <li><a href="../Concurrent/Synchronization.html">Concurrent::Synchronization</a>
  
    <li><a href="../Concurrent/Synchronization/AbstractLockableObject.html">Concurrent::Synchronization::AbstractLockableObject</a>
  
    <li><a href="../Concurrent/Synchronization/AbstractObject.html">Concurrent::Synchronization::AbstractObject</a>
  
    <li><a href="../Concurrent/Synchronization/AbstractStruct.html">Concurrent::Synchronization::AbstractStruct</a>
  
    <li><a href="../Concurrent/Synchronization/Condition.html">Concurrent::Synchronization::Condition</a>
  
    <li><a href="../Concurrent/Synchronization/JRubyAttrVolatile.html">Concurrent::Synchronization::JRubyAttrVolatile</a>
  
    <li><a href="../Concurrent/Synchronization/JRubyAttrVolatile/ClassMethods.html">Concurrent::Synchronization::JRubyAttrVolatile::ClassMethods</a>
  
    <li><a href="../Concurrent/Synchronization/JRubyLockableObject.html">Concurrent::Synchronization::JRubyLockableObject</a>
  
    <li><a href="../Concurrent/Synchronization/JRubyObject.html">Concurrent::Synchronization::JRubyObject</a>
  
    <li><a href="../Concurrent/Synchronization/Lock.html">Concurrent::Synchronization::Lock</a>
  
    <li><a href="../Concurrent/Synchronization/LockableObject.html">Concurrent::Synchronization::LockableObject</a>
  
    <li><a href="../Concurrent/Synchronization/MriAttrVolatile.html">Concurrent::Synchronization::MriAttrVolatile</a>
  
    <li><a href="../Concurrent/Synchronization/MriAttrVolatile/ClassMethods.html">Concurrent::Synchronization::MriAttrVolatile::ClassMethods</a>
  
    <li><a href="../Concurrent/Synchronization/MriLockableObject.html">Concurrent::Synchronization::MriLockableObject</a>
  
    <li><a href="../Concurrent/Synchronization/MriMonitorLockableObject.html">Concurrent::Synchronization::MriMonitorLockableObject</a>
  
    <li><a href="../Concurrent/Synchronization/MriMutexLockableObject.html">Concurrent::Synchronization::MriMutexLockableObject</a>
  
    <li><a href="../Concurrent/Synchronization/MriObject.html">Concurrent::Synchronization::MriObject</a>
  
    <li><a href="../Concurrent/Synchronization/Object.html">Concurrent::Synchronization::Object</a>
  
    <li><a href="../Concurrent/Synchronization/RbxAttrVolatile.html">Concurrent::Synchronization::RbxAttrVolatile</a>
  
    <li><a href="../Concurrent/Synchronization/RbxAttrVolatile/ClassMethods.html">Concurrent::Synchronization::RbxAttrVolatile::ClassMethods</a>
  
    <li><a href="../Concurrent/Synchronization/RbxLockableObject.html">Concurrent::Synchronization::RbxLockableObject</a>
  
    <li><a href="../Concurrent/Synchronization/RbxObject.html">Concurrent::Synchronization::RbxObject</a>
  
    <li><a href="../Concurrent/Synchronization/TruffleAttrVolatile.html">Concurrent::Synchronization::TruffleAttrVolatile</a>
  
    <li><a href="../Concurrent/Synchronization/TruffleAttrVolatile/ClassMethods.html">Concurrent::Synchronization::TruffleAttrVolatile::ClassMethods</a>
  
    <li><a href="../Concurrent/Synchronization/TruffleLockableObject.html">Concurrent::Synchronization::TruffleLockableObject</a>
  
    <li><a href="../Concurrent/Synchronization/TruffleObject.html">Concurrent::Synchronization::TruffleObject</a>
  
    <li><a href="../Concurrent/SynchronizedDelegator.html">Concurrent::SynchronizedDelegator</a>
  
    <li><a href="../Concurrent/TVar.html">Concurrent::TVar</a>
  
    <li><a href="../Concurrent/ThreadLocalVar.html">Concurrent::ThreadLocalVar</a>
  
    <li><a href="../Concurrent/ThreadPoolExecutor.html">Concurrent::ThreadPoolExecutor</a>
  
    <li><a href="../Concurrent/ThreadSafe.html">Concurrent::ThreadSafe</a>
  
    <li><a href="../Concurrent/ThreadSafe/Util.html">Concurrent::ThreadSafe::Util</a>
  
    <li><a href="../Concurrent/ThreadSafe/Util/Adder.html">Concurrent::ThreadSafe::Util::Adder</a>
  
    <li><a href="../Concurrent/ThreadSafe/Util/CheapLockable.html">Concurrent::ThreadSafe::Util::CheapLockable</a>
  
    <li><a href="../Concurrent/ThreadSafe/Util/PowerOfTwoTuple.html">Concurrent::ThreadSafe::Util::PowerOfTwoTuple</a>
  
    <li><a href="../Concurrent/ThreadSafe/Util/Striped64.html">Concurrent::ThreadSafe::Util::Striped64</a>
  
    <li><a href="../Concurrent/ThreadSafe/Util/Striped64/Cell.html">Concurrent::ThreadSafe::Util::Striped64::Cell</a>
  
    <li><a href="../Concurrent/ThreadSafe/Util/Volatile.html">Concurrent::ThreadSafe::Util::Volatile</a>
  
    <li><a href="../Concurrent/ThreadSafe/Util/XorShiftRandom.html">Concurrent::ThreadSafe::Util::XorShiftRandom</a>
  
    <li><a href="../Concurrent/TimerSet.html">Concurrent::TimerSet</a>
  
    <li><a href="../Concurrent/TimerTask.html">Concurrent::TimerTask</a>
  
    <li><a href="../Concurrent/Transaction.html">Concurrent::Transaction</a>
  
    <li><a href="../Concurrent/Tuple.html">Concurrent::Tuple</a>
  
    <li><a href="../Concurrent/Utility.html">Concurrent::Utility</a>
  
    <li><a href="../Concurrent/Utility/EngineDetector.html">Concurrent::Utility::EngineDetector</a>
  
    <li><a href="../Concurrent/Utility/NativeExtensionLoader.html">Concurrent::Utility::NativeExtensionLoader</a>
  
    <li><a href="../Concurrent/Utility/ProcessorCounter.html">Concurrent::Utility::ProcessorCounter</a>
  
  </ul>
</nav>

  </div>
</nav>

<div id="documentation">
  <h1 class="class">class Concurrent::Maybe</h1>

  <div id="description" class="description">
    
<p>A `Maybe` encapsulates an optional value. A `Maybe` either contains a value
of (represented as `Just`), or it is empty (represented as `Nothing`).
Using `Maybe` is a good way to deal with errors or exceptional cases
without resorting to drastic measures such as exceptions.</p>

<p>`Maybe` is a replacement for the use of `nil` with better type checking.</p>

<p>For compatibility with {Concurrent::Concern::Obligation} the predicate and
accessor methods are aliased as `fulfilled?`, `rejected?`, `value`, and
`reason`.</p>

<p>## Motivation</p>

<p>A common pattern in languages with pattern matching, such as Erlang and
Haskell, is to return <strong>either</strong> a value <strong>or</strong>
an error from a function Consider this Erlang code:</p>

<p>“`erlang case file:consult(“data.dat”) of</p>

<pre>{ok, Terms} -&gt; do_something_useful(Terms);
{error, Reason} -&gt; lager:error(Reason)</pre>

<p>end. “`</p>

<p>In this example the standard library function `file:consult` returns a
[tuple](<a
href="http://erlang.org/doc/reference_manual/data_types.html#id69044">erlang.org/doc/reference_manual/data_types.html#id69044</a>)
with two elements: an [atom](<a
href="http://erlang.org/doc/reference_manual/data_types.html#id64134">erlang.org/doc/reference_manual/data_types.html#id64134</a>)
(similar to a ruby symbol) and a variable containing ancillary data. On
success it returns the atom `ok` and the data from the file. On failure it
returns `error` and a string with an explanation of the problem. With this
pattern there is no ambiguity regarding success or failure. If the file is
empty the return value cannot be misinterpreted as an error. And when an
error occurs the return value provides useful information.</p>

<p>In Ruby we tend to return `nil` when an error occurs or else we raise an
exception. Both of these idioms are problematic. Returning `nil` is
ambiguous because `nil` may also be a valid value. It also lacks
information pertaining to the nature of the error. Raising an exception is
both expensive and usurps the normal flow of control. All of these problems
can be solved with the use of a `Maybe`.</p>

<p>A `Maybe` is unambiguous with regard to whether or not it contains a value.
When `Just` it contains a value, when `Nothing` it does not. When `Just`
the value it contains may be `nil`, which is perfectly valid. When
`Nothing` the reason for the lack of a value is contained as well. The
previous Erlang example can be duplicated in Ruby in a principled way by
having functions return `Maybe` objects:</p>

<p>“`ruby result = MyFileUtils.consult(“data.dat”) # returns a <a
href="Maybe.html">Maybe</a> if result.just?</p>

<pre>do_something_useful(result.value)      # or result.just</pre>

<p>else</p>

<pre>logger.error(result.reason)            # or result.nothing</pre>

<p>end “`</p>

<p>@example Returning a <a href="Maybe.html">Maybe</a> from a Function</p>

<pre class="ruby"><span class="ruby-keyword">module</span> <span class="ruby-constant">MyFileUtils</span>
  <span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">consult</span>(<span class="ruby-identifier">path</span>)
    <span class="ruby-identifier">file</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">open</span>(<span class="ruby-identifier">path</span>, <span class="ruby-string">&#39;r&#39;</span>)
    <span class="ruby-constant">Concurrent</span><span class="ruby-operator">::</span><span class="ruby-constant">Maybe</span>.<span class="ruby-identifier">just</span>(<span class="ruby-identifier">file</span>.<span class="ruby-identifier">read</span>)
  <span class="ruby-keyword">rescue</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">ex</span>
    <span class="ruby-keyword">return</span> <span class="ruby-constant">Concurrent</span><span class="ruby-operator">::</span><span class="ruby-constant">Maybe</span>.<span class="ruby-identifier">nothing</span>(<span class="ruby-identifier">ex</span>)
  <span class="ruby-keyword">ensure</span>
    <span class="ruby-identifier">file</span>.<span class="ruby-identifier">close</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">file</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>

<span class="ruby-identifier">maybe</span> = <span class="ruby-constant">MyFileUtils</span>.<span class="ruby-identifier">consult</span>(<span class="ruby-string">&#39;bogus.file&#39;</span>)
<span class="ruby-identifier">maybe</span>.<span class="ruby-identifier">just?</span>    <span class="ruby-comment">#=&gt; false</span>
<span class="ruby-identifier">maybe</span>.<span class="ruby-identifier">nothing?</span> <span class="ruby-comment">#=&gt; true</span>
<span class="ruby-identifier">maybe</span>.<span class="ruby-identifier">reason</span>   <span class="ruby-comment">#=&gt; #&lt;Errno::ENOENT: No such file or directory @ rb_sysopen - bogus.file&gt;</span>

<span class="ruby-identifier">maybe</span> = <span class="ruby-constant">MyFileUtils</span>.<span class="ruby-identifier">consult</span>(<span class="ruby-string">&#39;README.md&#39;</span>)
<span class="ruby-identifier">maybe</span>.<span class="ruby-identifier">just?</span>    <span class="ruby-comment">#=&gt; true</span>
<span class="ruby-identifier">maybe</span>.<span class="ruby-identifier">nothing?</span> <span class="ruby-comment">#=&gt; false</span>
<span class="ruby-identifier">maybe</span>.<span class="ruby-identifier">value</span>    <span class="ruby-comment">#=&gt; &quot;# Concurrent Ruby\n[![Gem Version...&quot;</span>
</pre>

<p>@example Using <a href="Maybe.html">Maybe</a> with a Block</p>

<pre class="ruby"><span class="ruby-identifier">result</span> = <span class="ruby-constant">Concurrent</span><span class="ruby-operator">::</span><span class="ruby-constant">Maybe</span>.<span class="ruby-identifier">from</span> <span class="ruby-keyword">do</span>
  <span class="ruby-constant">Client</span>.<span class="ruby-identifier">find</span>(<span class="ruby-value">10</span>) <span class="ruby-comment"># Client is an ActiveRecord model</span>
<span class="ruby-keyword">end</span>

<span class="ruby-comment"># -- if the record was found</span>
<span class="ruby-identifier">result</span>.<span class="ruby-identifier">just?</span> <span class="ruby-comment">#=&gt; true</span>
<span class="ruby-identifier">result</span>.<span class="ruby-identifier">value</span> <span class="ruby-comment">#=&gt; #&lt;Client id: 10, first_name: &quot;Ryan&quot;&gt;</span>

<span class="ruby-comment"># -- if the record was not found</span>
<span class="ruby-identifier">result</span>.<span class="ruby-identifier">just?</span>  <span class="ruby-comment">#=&gt; false</span>
<span class="ruby-identifier">result</span>.<span class="ruby-identifier">reason</span> <span class="ruby-comment">#=&gt; ActiveRecord::RecordNotFound</span>
</pre>

<p>@example Using <a href="Maybe.html">Maybe</a> with the Null Object Pattern</p>

<pre># In a Rails controller...
result = ClientService.new(10).find    # returns a Maybe
render json: result.or(NullClient.new)</pre>

<p>@see <a
href="https://hackage.haskell.org/package/base-4.2.0.1/docs/Data-Maybe.html">hackage.haskell.org/package/base-4.2.0.1/docs/Data-Maybe.html</a>
Haskell Data.Maybe @see <a
href="https://github.com/purescript/purescript-maybe/blob/master/docs/Data.Maybe.md">github.com/purescript/purescript-maybe/blob/master/docs/Data.Maybe.md</a>
PureScript Data.Maybe</p>

  </div><!-- description -->

  
  
  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    
    <!-- Constants -->
    <section id="constants-list" class="section">
      <h3 class="section-header">Constants</h3>
      <dl>
      
        <dt id="NONE">NONE
        
        <dd class="description"><p>Indicates that the given attribute has not been set. When `Just` the
{#nothing} getter will return `NONE`. When `Nothing` the {#just} getter
will return `NONE`.</p>
        
      
      </dl>
    </section>
    

    
    <!-- Attributes -->
    <section id="attribute-method-details" class="method-section section">
      <h3 class="section-header">Attributes</h3>

      
      <div id="attribute-i-just" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">just</span><span
            class="attribute-access-type">[R]</span>
        </div>

        <div class="method-description">
        
        <p>The value of a `Maybe` when `Just`. Will be `NONE` when `Nothing`.</p>
        
        </div>
      </div>
      
      <div id="attribute-i-nothing" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">nothing</span><span
            class="attribute-access-type">[R]</span>
        </div>

        <div class="method-description">
        
        <p>The reason for the `Maybe` when `Nothing`. Will be `NONE` when `Just`.</p>
        
        </div>
      </div>
      
      <div id="attribute-i-reason" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">reason</span><span
            class="attribute-access-type">[R]</span>
        </div>

        <div class="method-description">
        
        <p>The reason for the `Maybe` when `Nothing`. Will be `NONE` when `Just`.</p>
        
        </div>
      </div>
      
      <div id="attribute-i-value" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">value</span><span
            class="attribute-access-type">[R]</span>
        </div>

        <div class="method-description">
        
        <p>The value of a `Maybe` when `Just`. Will be `NONE` when `Nothing`.</p>
        
        </div>
      </div>
      
    </section><!-- attribute-method-details -->
    

    <!-- Methods -->
    
     <section id="public-class-5Buntitled-5D-method-details" class="method-section section">
      <h3 class="section-header">Public Class Methods</h3>

    
      <div id="method-c-from" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">from</span><span
            class="method-args">(*args) { |*args| ... }</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Create a new `Maybe` using the given block.</p>

<p>Runs the given block passing all function arguments to the block as block
arguments. If the block runs to completion without raising an exception a
new `Just` is created with the value set to the return value of the block.
If the block raises an exception a new `Nothing` is created with the reason
being set to the raised exception.</p>

<p>@param [Array&lt;Object&gt;] args Zero or more arguments to pass to the
block. @yield The block from which to create a new `Maybe`. @yieldparam
[Array&lt;Object&gt;] args Zero or more block arguments passed as</p>

<pre>arguments to the function.</pre>

<p>@return [Maybe] The newly created object.</p>

<p>@raise [ArgumentError] when no block given.</p>
          
          

          
          <div class="method-source-code" id="from-source">
            <pre><span class="ruby-comment"># File lib/concurrent/maybe.rb, line 137</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">from</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
  <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&#39;no block given&#39;</span>) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">block_given?</span>
  <span class="ruby-keyword">begin</span>
    <span class="ruby-identifier">value</span> = <span class="ruby-keyword">yield</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
    <span class="ruby-keyword">return</span> <span class="ruby-identifier">new</span>(<span class="ruby-identifier">value</span>, <span class="ruby-constant">NONE</span>)
  <span class="ruby-keyword">rescue</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">ex</span>
    <span class="ruby-keyword">return</span> <span class="ruby-identifier">new</span>(<span class="ruby-constant">NONE</span>, <span class="ruby-identifier">ex</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- from-source -->
          
        </div>

        

        
      </div><!-- from-method -->

    
      <div id="method-c-just" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">just</span><span
            class="method-args">(value)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Create a new `Just` with the given value.</p>

<p>@param [Object] value The value to set for the new `Maybe` object.</p>

<p>@return [Maybe] The newly created object.</p>
          
          

          
          <div class="method-source-code" id="just-source">
            <pre><span class="ruby-comment"># File lib/concurrent/maybe.rb, line 152</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">just</span>(<span class="ruby-identifier">value</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">new</span>(<span class="ruby-identifier">value</span>, <span class="ruby-constant">NONE</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- just-source -->
          
        </div>

        

        
      </div><!-- just-method -->

    
      <div id="method-c-new" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">new</span><span
            class="method-args">(just, nothing)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Create a new `Maybe` with the given attributes.</p>

<p>@param [Object] just The value when `Just` else `NONE`. @param [Exception,
Object] nothing The exception when `Nothing` else `NONE`.</p>

<p>@return [Maybe] The new `Maybe`.</p>

<p>@!visibility private</p>
          
          

          
          <div class="method-source-code" id="new-source">
            <pre><span class="ruby-comment"># File lib/concurrent/maybe.rb, line 224</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">just</span>, <span class="ruby-identifier">nothing</span>)
  <span class="ruby-ivar">@just</span> = <span class="ruby-identifier">just</span>
  <span class="ruby-ivar">@nothing</span> = <span class="ruby-identifier">nothing</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- new-source -->
          
        </div>

        

        
      </div><!-- new-method -->

    
      <div id="method-c-nothing" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">nothing</span><span
            class="method-args">(error = '')</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Create a new `Nothing` with the given (optional) reason.</p>

<p>@param [Exception] error The reason to set for the new `Maybe` object.</p>

<pre>When given a string a new `StandardError` will be created with the
argument as the message. When no argument is given a new
`StandardError` with an empty message will be created.</pre>

<p>@return [Maybe] The newly created object.</p>
          
          

          
          <div class="method-source-code" id="nothing-source">
            <pre><span class="ruby-comment"># File lib/concurrent/maybe.rb, line 164</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">nothing</span>(<span class="ruby-identifier">error</span> = <span class="ruby-string">&#39;&#39;</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">error</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Exception</span>)
    <span class="ruby-identifier">nothing</span> = <span class="ruby-identifier">error</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">nothing</span> = <span class="ruby-constant">StandardError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">error</span>.<span class="ruby-identifier">to_s</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">new</span>(<span class="ruby-constant">NONE</span>, <span class="ruby-identifier">nothing</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- nothing-source -->
          
        </div>

        

        
      </div><!-- nothing-method -->

    
    </section><!-- public-class-method-details -->
  
     <section id="public-instance-5Buntitled-5D-method-details" class="method-section section">
      <h3 class="section-header">Public Instance Methods</h3>

    
      <div id="method-i-3C-3D-3E" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">&lt;=&gt;</span><span
            class="method-args">(other)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Comparison operator.</p>

<p>@return [Integer] 0 if self and other are both `Nothing`;</p>

<pre class="ruby"><span class="ruby-value">-1</span> <span class="ruby-keyword">if</span> <span class="ruby-keyword">self</span> <span class="ruby-identifier">is</span> <span class="ruby-value">%xNothing`</span> <span class="ruby-keyword">and</span> <span class="ruby-identifier">other</span> <span class="ruby-identifier">is</span> <span class="ruby-value">%xJust`</span>;
<span class="ruby-value">1</span> <span class="ruby-keyword">if</span> <span class="ruby-keyword">self</span> <span class="ruby-identifier">is</span> <span class="ruby-value">%xJust`</span> <span class="ruby-keyword">and</span> <span class="ruby-identifier">other</span> <span class="ruby-identifier">is</span> <span class="ruby-identifier">nothing</span>;
<span class="ruby-value">%xself.just &lt;=&gt; other.just`</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">both</span> <span class="ruby-keyword">self</span> <span class="ruby-keyword">and</span> <span class="ruby-identifier">other</span> <span class="ruby-identifier">are</span> <span class="ruby-value">%xJust`</span>.
</pre>
          
          

          
          <div class="method-source-code" id="3C-3D-3E-source">
            <pre><span class="ruby-comment"># File lib/concurrent/maybe.rb, line 199</span>
<span class="ruby-keyword">def</span> <span class="ruby-operator">&lt;=&gt;</span>(<span class="ruby-identifier">other</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">nothing?</span>
    <span class="ruby-identifier">other</span>.<span class="ruby-identifier">nothing?</span> <span class="ruby-operator">?</span> <span class="ruby-value">0</span> <span class="ruby-operator">:</span> <span class="ruby-value">-1</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">other</span>.<span class="ruby-identifier">nothing?</span> <span class="ruby-operator">?</span> <span class="ruby-value">1</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">just</span> <span class="ruby-operator">&lt;=&gt;</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">just</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- 3C-3D-3E-source -->
          
        </div>

        

        
      </div><!-- 3C-3D-3E-method -->

    
      <div id="method-i-fulfilled-3F" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">fulfilled?</span><span
            class="method-args">()</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="Maybe.html#method-i-just-3F">just?</a>
        </div>
        
      </div><!-- fulfilled-3F-method -->

    
      <div id="method-i-just-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">just?</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Is this `Maybe` a `Just` (successfully fulfilled with a value)?</p>

<p>@return [Boolean] True if `Just` or false if `Nothing`.</p>
          
          

          
          <div class="method-source-code" id="just-3F-source">
            <pre><span class="ruby-comment"># File lib/concurrent/maybe.rb, line 176</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">just?</span>
  <span class="ruby-operator">!</span> <span class="ruby-identifier">nothing?</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- just-3F-source -->
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="Maybe.html#method-i-fulfilled-3F">fulfilled?</a>
        </div>
        

        
      </div><!-- just-3F-method -->

    
      <div id="method-i-nothing-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">nothing?</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Is this `Maybe` a `nothing` (rejected with an exception upon fulfillment)?</p>

<p>@return [Boolean] True if `Nothing` or false if `Just`.</p>
          
          

          
          <div class="method-source-code" id="nothing-3F-source">
            <pre><span class="ruby-comment"># File lib/concurrent/maybe.rb, line 184</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">nothing?</span>
  <span class="ruby-ivar">@nothing</span> <span class="ruby-operator">!=</span> <span class="ruby-constant">NONE</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- nothing-3F-source -->
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="Maybe.html#method-i-rejected-3F">rejected?</a>
        </div>
        

        
      </div><!-- nothing-3F-method -->

    
      <div id="method-i-or" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">or</span><span
            class="method-args">(other)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Return either the value of self or the given default value.</p>

<p>@return [Object] The value of self when `Just`; else the given default.</p>
          
          

          
          <div class="method-source-code" id="or-source">
            <pre><span class="ruby-comment"># File lib/concurrent/maybe.rb, line 210</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">or</span>(<span class="ruby-identifier">other</span>)
  <span class="ruby-identifier">just?</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">just</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">other</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- or-source -->
          
        </div>

        

        
      </div><!-- or-method -->

    
      <div id="method-i-rejected-3F" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">rejected?</span><span
            class="method-args">()</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="Maybe.html#method-i-nothing-3F">nothing?</a>
        </div>
        
      </div><!-- rejected-3F-method -->

    
    </section><!-- public-instance-method-details -->
  
  </section><!-- 5Buntitled-5D -->

</div><!-- documentation -->


<footer id="validator-badges">
  <p><a href="http://validator.w3.org/check/referer">[Validate]</a>
  <p>Generated by <a href="https://github.com/rdoc/rdoc">RDoc</a> 4.0.0.
  <p>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish Rdoc Generator</a> 3.
</footer>

